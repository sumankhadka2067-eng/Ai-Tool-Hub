<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Ai Tool Hub â€” Image Converter</title>
  <style>
    :root {
      --bg:#0F1224; --panel:#1B1E34; --text:#EAEAEA;
      --accent:#FFD700; --error:#FF6B6B; --shadow:rgba(255,215,0,0.18);
    }
    body {
      margin:0; font-family:'Segoe UI',sans-serif;
      background:linear-gradient(135deg,#0F1224,#1B1E34); color:var(--text);
    }
    header {
      background:var(--panel); padding:16px 24px;
      display:flex; justify-content:space-between; align-items:center;
      box-shadow:0 4px 14px var(--shadow);
    }
    .logo {font-weight:bold; font-size:1.2rem; color:var(--accent);}
    nav a {margin-left:16px; color:var(--text); text-decoration:none;}
    .container {max-width:700px; margin:auto; padding:20px;}
    .panel {
      background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.12);
      border-radius:12px; padding:20px; box-shadow:0 8px 22px var(--shadow);
    }
    label {display:block; margin-top:10px; font-weight:600;}
    input,select,button {
      margin-top:6px; padding:10px; border-radius:8px; border:none;
      width:100%; font-size:1rem;
    }
    input,select {background:#222642; color:var(--text);}
    button {
      background:linear-gradient(90deg,purple,blue,green,yellow);
      color:var(--text); font-weight:bold; cursor:pointer;
    }
    button:hover {transform:scale(1.05);}
    .error {color:var(--error); font-weight:bold; margin-top:10px;}
    .results {margin-top:20px;}
    img {max-width:100%; margin-top:10px; border-radius:8px;}
    a.download-btn {
      display:inline-block; margin-top:10px; padding:10px 16px;
      background:linear-gradient(90deg,#FFD700,#FF8C00,#FF6AC1);
      color:#0F1224; font-weight:bold; border-radius:8px; text-decoration:none;
    }
    @media(max-width:600px){.container{padding:10px;}}
  </style>
</head>
<body>
  <header>
    <div class="logo">Tools Wonder</div>
    <nav>
      <a href="#">Home</a><a href="#">Tools</a><a href="#">Contact</a>
    </nav>
  </header>

  <div class="container">
    <h1>Image Converter Tool</h1>
    <div class="panel">
      <label for="imageFile">Upload Image</label>
      <input type="file" id="imageFile" accept=".png,.jpg,.jpeg,.bmp,.gif,.tif,.tiff,.webp,image/*"/>

      <label for="formatSelect">Select Output Format</label>
      <select id="formatSelect">
        <option value="png">PNG</option>
        <option value="jpeg">JPEG</option>
        <option value="jpg">JPG</option>
        <option value="bmp">BMP</option>
        <option value="gif">GIF</option>
        <option value="webp">WEBP</option>
        <option value="tiff">TIFF</option>
      </select>

      <button id="convertBtn">Convert</button>
      <div id="status" style="display:none;">Processing image...</div>
      <div id="errorBox" class="error" style="display:none;"></div>

      <div class="results" id="results" style="display:none;">
        <h3>Converted Image Preview:</h3>
        <img id="outputImg" alt="Converted preview"/>
        <a id="downloadLink" class="download-btn" href="#" download>Download Converted Image</a>
      </div>
    </div>
  </div>

  <script>
    const fileInput = document.getElementById('imageFile');
    const formatSelect = document.getElementById('formatSelect');
    const convertBtn = document.getElementById('convertBtn');
    const statusBox = document.getElementById('status');
    const errorBox = document.getElementById('errorBox');
    const results = document.getElementById('results');
    const outputImg = document.getElementById('outputImg');
    const downloadLink = document.getElementById('downloadLink');

    let originalFile = null;

    fileInput.addEventListener('change', e => {
      const file = e.target.files[0];
      if (!file) return;
      originalFile = file;
      errorBox.style.display = "none";
    });

    convertBtn.addEventListener('click', async () => {
      if (!originalFile) {
        errorBox.textContent = "Please upload an image first.";
        errorBox.style.display = "block";
        return;
      }
      errorBox.style.display = "none";
      statusBox.style.display = "block";

      const format = formatSelect.value;
      const reader = new FileReader();
      reader.onload = () => {
        const img = new Image();
        img.onload = () => {
          const canvas = document.createElement('canvas');
          canvas.width = img.width;
          canvas.height = img.height;
          const ctx = canvas.getContext('2d');
          ctx.drawImage(img, 0, 0);

          let mime = "image/png";
          if (format === "jpeg" || format === "jpg") mime = "image/jpeg";
          else if (format === "bmp") mime = "image/bmp";
          else if (format === "gif") mime = "image/gif";
          else if (format === "webp") mime = "image/webp";
          else if (format === "tiff") mime = "image/tiff";

          const dataURL = canvas.toDataURL(mime, 1.0);
          outputImg.src = dataURL;
          downloadLink.href = dataURL;
          downloadLink.download = `converted.${format}`;
          results.style.display = "block";
          statusBox.style.display = "none";
        };
        img.src = reader.result;
      };
      reader.readAsDataURL(originalFile);
    });
  </script>
</body>
</html>
